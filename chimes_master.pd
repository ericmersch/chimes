#N canvas 138 243 484 349 10;
#X obj -2 7 cnv 15 480 340 empty empty empty 20 12 0 14 -1 -66577 0
;
#X obj 170 114 bng 120 250 50 0 run_message empty RUN 15 60 0 50 -4034
-1 -1;
#N canvas 72 96 1848 984 chimes 1;
#X obj 403 134 vline~;
#X obj 116 359 *~;
#X obj 50 568 dac~;
#N canvas 65 53 1855 1027 partials 0;
#X obj 108 6 inlet;
#X obj 51 107 osc~;
#X obj 91 106 osc~;
#X obj 132 104 osc~;
#X obj 175 104 osc~;
#X obj 219 103 osc~;
#X obj 145 277 outlet~;
#X text 238 279 add all the compontents of the signal;
#X obj 291 181 *~ 0.01375;
#X obj 216 179 *~ 0.0068;
#X obj 167 177 *~ 0.5;
#X obj 99 178 *~ 0.09245;
#X obj 27 181 *~ 0.03935;
#X obj 16 63 * 1.8305;
#X obj 79 63 * 4.8375;
#X obj 139 63 * 8.971;
#X obj 205 63 14.155;
#X text 346 61 partials frequency ratios;
#X obj 257 61 * 20.0755;
#X text 385 181 partials relative amplitudes;
#X connect 0 0 18 0;
#X connect 0 0 16 0;
#X connect 0 0 15 0;
#X connect 0 0 14 0;
#X connect 0 0 13 0;
#X connect 1 0 12 0;
#X connect 2 0 11 0;
#X connect 3 0 10 0;
#X connect 4 0 9 0;
#X connect 5 0 8 0;
#X connect 8 0 6 0;
#X connect 9 0 6 0;
#X connect 10 0 6 0;
#X connect 11 0 6 0;
#X connect 12 0 6 0;
#X connect 13 0 1 0;
#X connect 14 0 2 0;
#X connect 15 0 3 0;
#X connect 16 0 4 0;
#X connect 18 0 5 0;
#X restore 115 309 pd partials;
#X obj 117 400 +~;
#X obj 532 378 delread4~ \$0-sammap;
#X obj 538 321 loadbang;
#X obj 363 503 delwrite~ \$0-sammap 2000;
#X msg 537 353 1000;
#X obj 521 432 lop~ 800;
#X text 214 297 create a constant tone with the spectrum of a tubular
bell and a fundamental pitch given by the input frequency;
#X text 619 349 delay time;
#X text 548 503 record sample for the delay;
#X text 152 425 add input sound and feedback delay;
#X text 98 571 digital to analog converter for audio output;
#X text 150 369 multiply the constant tone with the envelope;
#X text 628 403 feedback 0 - 1;
#X text 595 433 low pass filter with cut off frequency of 800 Hz;
#X text 584 96 create the envelope of the sound (from 0 to 1 in 20
ms then from 1 to 0 in 1600 ms);
#X text 218 17 for each triggered event;
#X obj 86 146 sel 0 1 2 3 4 5 6;
#X text 413 193 chose a MIDI note at random in the scale from the koshi
chime;
#X text 177 270 convert the MIDI note to a frequency value;
#X obj 122 270 mtof;
#X msg 104 198 106;
#X msg 148 197 111;
#X msg 190 197 114;
#X msg 232 197 116;
#X msg 267 196 118;
#X msg 300 198 123;
#X msg 335 197 126;
#X msg 368 196 130;
#N canvas 65 50 1855 1030 no_repeat 0;
#X obj 136 26 inlet;
#X obj 213 101 loadbang;
#X msg 213 140 1;
#X obj 213 183 value old;
#X floatatom 213 238 5 0 0 0 - - -;
#X floatatom 111 237 5 0 0 0 - - -;
#X obj 111 305 expr $i1 == $i2;
#X obj 135 101 until;
#X obj 409 318 outlet;
#X obj 167 361 sel 0;
#X obj 135 140 t b b;
#X obj 136 62 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 407 24 inlet;
#X obj 111 183 random 7;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 6 1;
#X connect 4 0 8 0;
#X connect 5 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 7 0 10 0;
#X connect 9 0 7 1;
#X connect 10 0 13 0;
#X connect 10 1 3 0;
#X connect 11 0 7 0;
#X connect 12 0 13 1;
#X connect 13 0 5 0;
#X restore 86 85 pd no_repeat;
#X obj 119 14 r run_message;
#X msg 402 99 0.5 20 \, 0.5 \, 0 1600;
#X obj 547 403 *~ 0.99;
#X connect 0 0 1 1;
#X connect 1 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 7 0;
#X connect 4 0 2 0;
#X connect 4 0 2 1;
#X connect 5 0 35 0;
#X connect 6 0 8 0;
#X connect 8 0 5 0;
#X connect 9 0 4 1;
#X connect 20 0 24 0;
#X connect 20 1 25 0;
#X connect 20 2 26 0;
#X connect 20 3 27 0;
#X connect 20 4 28 0;
#X connect 20 5 29 0;
#X connect 20 6 30 0;
#X connect 20 7 31 0;
#X connect 23 0 3 0;
#X connect 24 0 23 0;
#X connect 25 0 23 0;
#X connect 26 0 23 0;
#X connect 27 0 23 0;
#X connect 28 0 23 0;
#X connect 29 0 23 0;
#X connect 30 0 23 0;
#X connect 31 0 23 0;
#X connect 32 0 20 0;
#X connect 33 0 32 0;
#X connect 33 0 34 0;
#X connect 34 0 0 0;
#X connect 35 0 9 0;
#X restore 270 364 pd chimes;
